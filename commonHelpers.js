import{S as b,a as M,i as q}from"./assets/vendor-2618a76b.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();const r={form:document.querySelector(".img-form"),inputForm:document.querySelector(".img-inp"),btnForm:document.querySelector(".img-btn"),galleryForm:document.querySelector(".gallery"),loaderForm:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".load-btn")},v="https://pixabay.com/api/",F="41930626-f2ac102ea6260ef01eb19ab27",y=new b(".gallery-item a",{captionsData:"alt",captionDelay:250}),s="is-hidden";let n=1,u="",f=0;r.form.addEventListener("submit",S);async function S(t){if(t.preventDefault(),r.galleryForm.innerHTML="",i(!0),n=1,r.loadMoreBtn.classList.add(s),u=r.form.query.value.trim(),!u){i(!1),m("The search field can't be empty! Please, enter your request!");return}try{const a=await g(u,n);f=Math.ceil(a.totalHits/40),p(a.hits,r.galleryForm),a.hits.length>0?(r.loadMoreBtn.classList.remove(s),r.loadMoreBtn.addEventListener("click",B)):(r.loadMoreBtn.classList.add(s),m("Sorry, there are no images matching your search query. Please, try again!"))}catch{m("We're sorry, but you've reached the end of search results.")}finally{i(!1),r.form.reset(),n===f&&r.loadMoreBtn.classList.add(s)}}async function B(){n+=1;try{i(!0),r.loadMoreBtn.classList.add(s);const{hits:t}=await g(u,n);p(t),y.refresh(),r.loadMoreBtn.classList.remove(s)}catch{m("We're sorry, but you've reached the end of search results.")}finally{i(!1),n===f&&r.loadMoreBtn.classList.add(s)}}async function g(t,a=1){return(await M.get(`${v}`,{params:{key:F,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:a}})).data}function p(t){const a=t.map(({webformatURL:c,largeImageURL:d,tags:e,likes:o,views:l,comments:h,downloads:L})=>`
        <li class="gallery-item">
        <a class="gallery-link" href="${d}">
        <img class="gallery-image" src="${c}" alt="${e}" />
        <p class="gallery-item">Likes: ${o} Views: ${l} Comments: ${h} Downloads: ${L}</p>
        </a>
        </li>`).join("");r.galleryForm.insertAdjacentHTML("beforeend",a),y.refresh()}function m(t){q.show({class:"error-svg",position:"topRight",icon:"error-svg",message:t,maxWidth:"432",messageColor:"#fff",messageSize:"16px",backgroundColor:"#EF4040",close:!1,closeOnClick:!0})}function i(t=!0){r.loaderForm.style.display=t?"inline-block":"none",r.btnForm.disabled=t}
//# sourceMappingURL=commonHelpers.js.map
