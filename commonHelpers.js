import{S as b,i as M,a as q}from"./assets/vendor-2618a76b.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function c(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(e){if(e.ep)return;e.ep=!0;const a=c(e);fetch(e.href,a)}})();const r={form:document.querySelector(".img-form"),inputForm:document.querySelector(".img-inp"),btnForm:document.querySelector(".img-btn"),galleryForm:document.querySelector(".gallery"),loaderForm:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".load-btn")},F="https://pixabay.com/api/",S="41930626-f2ac102ea6260ef01eb19ab27",y=new b(".gallery-item a",{captionsData:"alt",captionDelay:250}),s="is-hidden";let n=1,m="",u=0;r.form.addEventListener("submit",v);async function v(t){if(t.preventDefault(),r.galleryForm.innerHTML="",i(!0),n=1,r.loadMoreBtn.classList.add(s),m=r.form.query.value.trim(),!m){i(!1),f("The search field can't be empty! Please, enter your request!");return}try{const o=await g(m);u=Math.ceil(o.totalHits/40),p(o.hits,r.galleryForm),o.hits.length>0?(r.loadMoreBtn.classList.remove(s),r.loadMoreBtn.addEventListener("click",B)):(r.loadMoreBtn.classList.add(s),f("Sorry, there are no images matching your search query. Please, try again!")),i(!1)}catch(o){console.log(o)}finally{r.form.reset(),n===u&&r.loadMoreBtn.classList.add(s)}}function f(t){M.show({class:"error-svg",position:"topRight",icon:"error-svg",message:t,maxWidth:"432",messageColor:"#fff",messageSize:"16px",backgroundColor:"#EF4040",close:!1,closeOnClick:!0})}async function B(){n+=1;try{i(!0),r.loadMoreBtn.classList.add(s);const{hits:t}=await g(m,n);p(t),i(!1),y.refresh(),r.loadMoreBtn.classList.remove(s)}catch(t){console.log(t)}finally{n===u&&r.loadMoreBtn.classList.add(s)}}async function g(t,o=1){return(await q.get(`${F}`,{params:{key:S,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:o}})).data}function p(t){const o=t.map(({webformatURL:c,largeImageURL:d,tags:e,likes:a,views:l,comments:h,downloads:L})=>`
       <li class="gallery-item">
  <a class="gallery-link" href="${d}">
    <img class="gallery-image" src="${c}" alt="${e}" />
    <p class="gallery-item">Likes: ${a} Views: ${l} Comments: ${h} Downloads: ${L}</p>
  </a>
</li>`).join("");r.galleryForm.insertAdjacentHTML("beforeend",o),y.refresh()}function i(t=!0){r.loaderForm.style.display=t?"inline-block":"none",r.btnForm.disabled=t}
//# sourceMappingURL=commonHelpers.js.map
